<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Benefits</title>
<link rel="icon" href="/agent_tools/img/favicon.ico" type="image/x-icon">
<script src="../refresh.js"></script>
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" type="text/css" href="css/setup-style.css">
</head>
<body>
<div class="header">
  <div class="item" style="justify-content: flex-start;"><span id="title" class="headline" style="margin-left: 50px;">Presentation Set Up</span> </div>
  <div class="item"><img src="img/Globe_AIL_negative.png" class="logo AIL" alt="AIL"><img src="img/Globe_NIL_negative.png" class="logo NIL" alt="NIL"><button id="fullscreenBtn" tabindex="-1"><img id="fullscreenIcon" src="img/fullscreen.png" alt="Fullscreen"></button>
  </div>
</div>
<form id="setupMyForm">
  <div class="setup-grid-container no-slide">
    <div class="setup-grid-item-left-agent">
      <label for="agentName">Agent Name:</label>
    </div>
    <div class="setup-grid-item">
      <input type="text" id="agentName" class="setup-text">
    </div>
    <div class="setup-grid-item-left-agent">
		Licensed for A&amp;H:
		</div>
	  <div class="setup-grid-item">
		  <input type="checkbox" id="isLicensedCheckbox" class="setup-checkbox">
		  </div>
	  <div class="setup-grid-item-left">Plan Type:</div>
	  <div class="setup-grid-item">
      <select id="planType" class="setup-drop" name="planType">
        <option value="recBasic">REC BASIC</option>
        <option value="hourPower">HOUR POWER</option>
        
      </select>
	  </div>
    <div class="setup-grid-item-left">
      <label for="leadType"><span style="color: red;">*</span> Lead Type:</label>
    </div>
    <div class="setup-grid-item">
      <select id="leadType" class="setup-drop" name="leadType" onblur="resetBorder(this); toggleVisibility(this.value)">
        <option value="">Choose Lead Type</option>
        <option value="HARDCARD">HARD CARD</option>
        <option value="WILLKIT">WILL KIT</option>
        <option value="CHILDSAFE">CHILD SAFE</option>
        <option value="REFERRAL">REFERRAL</option>
      </select>
    </div>
    <div class="setup-grid-item-left">
      <label for="primaryName1"><span style="color: red;">*</span> Member Name:</label>
    </div>
    <div class="setup-grid-item">
      <input type="text" id="primaryName1" class="setup-text" name="primaryName1" oninput="blockNumericChars(this); toggleInput('primaryName1', 'primaryAge1'); toggleInput('primaryName1', 'spouseName1')" onblur="resetBorder(this)">
    </div>
    <div class="setup-grid-item-left">
      <label for="primaryAge1"><span style="color: red;">*</span> Age:</label>
    </div>
    <div class="setup-grid-item">
      <input type="text" id="primaryAge1" class="setup-text" name="primaryAge1" maxlength="8" placeholder="MMDDYYYY" oninput="blockNonNumericChars('primaryAge1')" onfocus="blockNonNumericChars('primaryAge1')" onblur="resetBorder(this); calculateAge(this.id, 'dobTextA')" disabled>
		<span class="pi-dobText" id="dobTextA"></span>
    </div>
    <div class="setup-grid-item-left">
      <label for="sexInputA">Sex:</label>
    </div>
    <div class="setup-grid-item">
              <select id="sexInputA" class="sex-drop">
                <option value="male" selected>M</option>
                <option value="female">F</option>
              </select>
    </div>
    <div class="setup-grid-item-left-spouse">
      <label for="spouseName1">Spouse Name:</label>
    </div>
    <div class="setup-grid-item">
      <input type="text" id="spouseName1" class="setup-text" name="spouseName1" oninput="blockNumericChars(this); toggleInput('spouseName1', 'spouseAge1')" disabled>
    </div>
    <div class="setup-grid-item-left-spouse">
      <label for="spouseAge1">Age:</label>
    </div>
    <div class="setup-grid-item">
      <input type="text" id="spouseAge1" class="setup-text" name="spouseAge1" maxlength="8" placeholder="MMDDYYYY" oninput="blockNonNumericChars('spouseAge1')" onfocus="blockNonNumericChars('spouseAge1')" onblur="resetBorder(this); calculateAge(this.id, 'dobTextB')" disabled>
		<span class="pi-dobText" id="dobTextB"></span>
    </div>
    <div class="setup-grid-item-left-spouse">
      <label for="sexInputB">Sex:</label>
    </div>
    <div class="setup-grid-item">
              <select id="sexInputB" class="sex-drop">
                <option value="male">M</option>
                <option value="female" selected>F</option>
              </select>
    </div>
    <div class="setup-grid-item-left group-hide" style="text-align: right;">
      <label for="groupName">Group Name:</label>
    </div>
    <div class="setup-grid-item group-hide">
      <input type="text" id="groupName" class="setup-text">
    </div>
    <div class="setup-grid-item-left group-hide" style="text-align: right;">
      <label for="addAmount">AD&amp;D Amount:</label>
    </div>
    <div class="setup-grid-item group-hide">
      <input type="text" id="addAmount" class="setup-text" oninput="optionFormatCurrency(this)" value="$3,000">
    </div>
    <div class="setup-grid-item-left" style="text-align: right;">
      <label for="cityName">Member City:</label>
    </div>
    <div class="setup-grid-item">
      <input type="text" id="cityName" class="setup-text">
    </div>
    <div class="setup-grid-item-left">
      <label for="state"><span style="color: red;">*</span> Member State:</label>
    </div>
    <div class="setup-grid-item">
      <select id="state" class="setup-drop" onChange="logoDisplay()">
        <option value="">Select a State</option>
        <option value="AL">Alabama</option>
        <option value="AK">Alaska</option>
        <option value="AZ">Arizona</option>
        <option value="AR">Arkansas</option>
        <option value="CA">California</option>
        <option value="CO">Colorado</option>
        <option value="CT">Connecticut</option>
        <option value="DE">Delaware</option>
        <option value="FL">Florida</option>
        <option value="GA">Georgia</option>
        <option value="HI">Hawaii</option>
        <option value="ID">Idaho</option>
        <option value="IL">Illinois</option>
        <option value="IN">Indiana</option>
        <option value="IA">Iowa</option>
        <option value="KS">Kansas</option>
        <option value="KY">Kentucky</option>
        <option value="LA">Louisiana</option>
        <option value="ME">Maine</option>
        <option value="MD">Maryland</option>
        <option value="MA">Massachusetts</option>
        <option value="MI">Michigan</option>
        <option value="MN">Minnesota</option>
        <option value="MS">Mississippi</option>
        <option value="MO">Missouri</option>
        <option value="MT">Montana</option>
        <option value="NE">Nebraska</option>
        <option value="NV">Nevada</option>
        <option value="NH">New Hampshire</option>
        <option value="NJ">New Jersey</option>
        <option value="NM">New Mexico</option>
        <option value="NY">New York</option>
        <option value="NC">North Carolina</option>
        <option value="ND">North Dakota</option>
        <option value="OH">Ohio</option>
        <option value="OK">Oklahoma</option>
        <option value="OR">Oregon</option>
        <option value="PA" selected>Pennsylvania</option>
        <option value="RI">Rhode Island</option>
        <option value="SC">South Carolina</option>
        <option value="SD">South Dakota</option>
        <option value="TN">Tennessee</option>
        <option value="TX">Texas</option>
        <option value="UT">Utah</option>
        <option value="VT">Vermont</option>
        <option value="VA">Virginia</option>
        <option value="WA">Washington</option>
        <option value="WV">West Virginia</option>
        <option value="WI">Wisconsin</option>
        <option value="WY">Wyoming</option>
      </select>
    </div>
    <div class="setup-grid-item-left sponsor-hide" style="text-align: right;">
      <label for="sponsorName">Sponsor Name:</label>
    </div>
    <div class="setup-grid-item sponsor-hide">
      <input type="text" id="sponsorName" class="setup-text">
    </div>
    <div class="setup-grid-item-left sponsor-hide" style="text-align: right;">
      <label for="sponsorGroup">Sponsor Group:</label>
    </div>
    <div class="setup-grid-item sponsor-hide">
      <input type="text" id="sponsorGroup" class="setup-text">
    </div>
    <div class="setup-grid-item-left">
      <label for="single">SINGLE</label>
    </div>
    <div class="setup-grid-item">
      <input type="checkbox" id="single" class="setup-checkbox" name="single" checked>
    </div>
    <div class="setup-grid-item-left">
      <label for="senior">SENIOR</label>
    </div>
    <div class="setup-grid-item">
      <input type="checkbox" id="senior" class="setup-checkbox" name="senior">
    </div>
    <div class="setup-grid-item-left">
      <label for="nochildren">NO CHILDREN</label>
    </div>
    <div class="setup-grid-item">
      <input type="checkbox" id="nochildren" class="setup-checkbox" name="nochildren">
    </div>
    <div class="setup-grid-item-left">Extra Slides:</div>
    <div class="setup-grid-item">
		WL vs. Term <input type="checkbox" id="wlVsTermCheckbox" class="setup-checkbox">
	</div>
    <div class="setup-grid-item-left"></div>
    <div class="setup-grid-item"> 
      <input type="button" class="setup-button" onclick="checkAndShowSlide()" value="Start">
	</div>
  </div>
</form>
<script>
// Get the checkbox element
var wlVsTermCheckbox = document.getElementById("wlVsTermCheckbox");

// Check if there is a saved state in local storage
var wlVsTermSavedState = localStorage.getItem("wlVsTermCheckboxState");

// If there's a saved state, set the wlVsTermCheckbox to that state
if (wlVsTermSavedState === "checked") {
  wlVsTermCheckbox.checked = true;
} else {
  wlVsTermCheckbox.checked = false;
}

// Add an event listener to the wlVsTermCheckbox to save its state when it changes
wlVsTermCheckbox.addEventListener("change", function() {
  if (wlVsTermCheckbox.checked) {
    localStorage.setItem("wlVsTermCheckboxState", "checked");
  } else {
    localStorage.setItem("wlVsTermCheckboxState", "unchecked");
  }
});

// Add an event listener to the document to listen for the Enter key press
document.addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
        // If Enter key is pressed, trigger the click event on the "Start" button
        document.querySelector('.setup-button').click();
    }
});

function toggleVisibility(selectedValue) {
  var groupHideElements = document.querySelectorAll('.group-hide');
  var sponsorHideElements = document.querySelectorAll('.sponsor-hide'); // Add this line

  if (selectedValue === 'HARDCARD') {
    groupHideElements.forEach(function(element) {
      element.style.display = 'block';
    });
    sponsorHideElements.forEach(function(element) { // Add this block
      element.style.display = 'none';
    });
  } else if (selectedValue === 'REFERRAL') { // Add this condition
    groupHideElements.forEach(function(element) {
      element.style.display = 'none';
    });
    sponsorHideElements.forEach(function(element) { // Add this block
      element.style.display = 'block';
    });
  } else {
    groupHideElements.forEach(function(element) {
      element.style.display = 'none';
    });
    sponsorHideElements.forEach(function(element) {
      element.style.display = 'none';
    });
  }
}

document.addEventListener('DOMContentLoaded', function() {
  var leadTypeSelect = document.getElementById('leadType');
  
  leadTypeSelect.addEventListener('change', function() {
    toggleVisibility(this.value);
  });
});
//Uncheck single if a name is entered for the spouse
  const singleCheckbox = document.getElementById("single");
  const spouseNameInput = document.getElementById("spouseName1");

  spouseNameInput.addEventListener("input", function() {
    if (spouseNameInput.value === "") {
      singleCheckbox.checked = true;
    } else {
      singleCheckbox.checked = false;
    }
  });
//Disable age until a name is entered
function toggleInput(sourceId, targetId) {
    var sourceInput = document.getElementById(sourceId);
    var targetInput = document.getElementById(targetId);

    if (sourceInput.value.trim() === "") {
        targetInput.value = "";  // Clear target input value if source is blank
        targetInput.disabled = true; // Disable target input
    } else {
        targetInput.disabled = false; // Enable target input
    }
}
	
// Retrieve the input element
const agentNameInput = document.getElementById('agentName');

// Load the saved value from local storage when the page loads
window.addEventListener('load', () => {
  const savedAgentName = localStorage.getItem('savedAgentName');
  if (savedAgentName) {
    agentNameInput.value = savedAgentName;
  }
});

// Save the value to local storage when the input field loses focus (onblur)
agentNameInput.addEventListener('blur', () => {
  const newAgentName = agentNameInput.value;
  localStorage.setItem('savedAgentName', newAgentName);
});
	
// Check if there is a stored value in local storage for the checkbox
const isLicensedCheckbox = document.getElementById("isLicensedCheckbox");
const storedValue = localStorage.getItem("isLicensedCheckbox");

// If a stored value exists, set the checkbox state accordingly
if (storedValue) {
  isLicensedCheckbox.checked = JSON.parse(storedValue);
}

// Add an event listener to the checkbox to save its state in local storage
isLicensedCheckbox.addEventListener("change", function () {
  localStorage.setItem("isLicensedCheckbox", JSON.stringify(this.checked));
});
	
// Check if there is a stored value in local storage for the dropdown box
  const planTypeDropdown = document.getElementById("planType");
  const storedPlanType = localStorage.getItem("planTypePref");

  // If a stored value exists, set the selected option in the dropdown box accordingly
  if (storedPlanType) {
    planTypeDropdown.value = storedPlanType;
  }

  // Add an event listener to the dropdown box to save its state in local storage
  planTypeDropdown.addEventListener("change", function () {
    localStorage.setItem("planTypePref", this.value);
  });
	
// Retrieve the select element
const stateSelect = document.getElementById('state');

// Load the saved value from local storage when the page loads
window.addEventListener('load', () => {
  const savedState = localStorage.getItem('savedState');
  if (savedState) {
    stateSelect.value = savedState;
  }
	logoDisplay();
});

// Save the selected value to local storage when the dropdown loses focus (onblur)
stateSelect.addEventListener('blur', () => {
  const newState = stateSelect.value;
  localStorage.setItem('savedState', newState);
});
</script> 
<script>
//Disable form autofill
	const form = document.getElementById("setupMyForm");

// Disable autofill for each input field in the form
Array.from(form.elements).forEach((element) => {
  if (element.tagName.toLowerCase() === "input") {
    element.setAttribute("autocomplete", "off");
  }
});
	
document.addEventListener("DOMContentLoaded", function() {
    // This code will run once the page's HTML is fully loaded and ready to be manipulated
    toggleInput('primaryName1', 'primaryAge1');
	toggleInput('primaryName1', 'spouseName1');
});
	
function logoDisplay() {
var AILElements = document.querySelectorAll('.AIL');
var NILElements = document.querySelectorAll('.NIL');
const stateInput = document.getElementById('state').value;
	
if (stateInput === 'NY') {
    AILElements.forEach(function(element) {
        element.style.display = 'none';
    });
    NILElements.forEach(function(element) {
        element.style.display = 'block';
    });
} else {
    AILElements.forEach(function(element) {
        element.style.display = 'block';
    });
    NILElements.forEach(function(element) {
        element.style.display = 'none';
    });
}
}
</script> 
<script src="js/setupStart.js"></script>
<script src="js/setupPIFormatAge.js"></script>
<script src="js/optionBuilderFormat.js"></script>
</body>
</html>